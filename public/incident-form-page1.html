<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Legal Advisory - Page 1 of 12</title>

  <style>
    /* Design System Variables */
    :root {
      --grad-start: #2e6a9d;
      --grad-end: #3776a2;
      --accent: #357a94;
      --accent-hover: #2c6880;
      --bg-light: #f0ebe3;
      --text-dark: #333;
      --text-muted: #666;
      --border: #d1d5db;
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
    }

    /* Reset & Base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    html {
      font-size: 16px;
      -webkit-text-size-adjust: 100%;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: var(--bg-light);
      color: var(--text-dark);
      line-height: 1.6;
      overflow-x: hidden;
      padding-bottom: env(safe-area-inset-bottom, 20px);
    }

    /* Sticky Banner */
    .banner {
      background: linear-gradient(135deg, var(--grad-start) 0%, var(--grad-end) 100%);
      padding: 20px 16px;
      position: sticky;
      top: 0;
      z-index: 200;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    @supports (padding-top: env(safe-area-inset-top)) {
      .banner {
        padding-top: max(20px, env(safe-area-inset-top));
      }
    }

    .brand {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 12px;
    }

    .brand .logo {
      width: 80px;
      height: 80px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .brand h1 {
      font-size: 1.25rem;
      font-weight: 700;
      color: white;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .brand .tagline {
      font-size: 0.875rem;
      color: rgba(255,255,255,0.95);
      font-weight: 500;
    }

    /* Progress Bar */
    .progress-container {
      margin-top: 16px;
      background: rgba(255,255,255,0.2);
      border-radius: 20px;
      height: 8px;
      overflow: hidden;
      backdrop-filter: blur(8px);
    }

    .progress-bar {
      height: 100%;
      background: white;
      border-radius: 20px;
      transition: width 0.3s ease;
      width: 8.33%; /* Page 1 of 12 */
    }

    .progress-label {
      text-align: center;
      color: white;
      font-size: 0.75rem;
      margin-top: 8px;
      font-weight: 600;
    }

    /* Main Container */
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 24px 16px;
    }

    .page-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .page-header h2 {
      font-size: 1.5rem;
      color: var(--text-dark);
      margin-bottom: 8px;
    }

    .page-header p {
      color: var(--text-muted);
      font-size: 0.938rem;
    }

    /* Warning Banner */
    .warning-banner {
      background: linear-gradient(135deg, var(--danger) 0%, #dc2626 100%);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      color: white;
      box-shadow: 0 4px 16px rgba(239, 68, 68, 0.3);
    }

    .warning-banner h3 {
      font-size: 1.5rem;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .warning-banner .icon {
      font-size: 2rem;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    .warning-banner ul {
      list-style: none;
      margin: 16px 0;
    }

    .warning-banner li {
      margin: 12px 0;
      padding-left: 24px;
      position: relative;
      font-size: 0.938rem;
      line-height: 1.5;
    }

    .warning-banner li:before {
      content: '‚ö†Ô∏è';
      position: absolute;
      left: 0;
    }

    /* Advisory Section */
    .advisory-section {
      background: white;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .advisory-section h4 {
      color: var(--accent);
      font-size: 1.125rem;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .advisory-section ul {
      list-style: none;
      margin: 12px 0;
    }

    .advisory-section li {
      margin: 12px 0;
      padding-left: 32px;
      position: relative;
      font-size: 0.938rem;
      line-height: 1.6;
    }

    .advisory-section li:before {
      content: '‚úì';
      position: absolute;
      left: 8px;
      color: var(--success);
      font-weight: bold;
    }

    .advisory-section .dont-say li:before {
      content: '‚úó';
      color: var(--danger);
    }

    /* Acknowledgment Checkbox */
    .acknowledgment {
      background: #fef3c7;
      border: 2px solid var(--warning);
      border-radius: 12px;
      padding: 20px;
      margin: 24px 0;
    }

    .acknowledgment label {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      cursor: pointer;
      font-size: 0.938rem;
      font-weight: 600;
      color: var(--text-dark);
    }

    .acknowledgment input[type="checkbox"] {
      width: 24px;
      height: 24px;
      min-width: 24px;
      cursor: pointer;
      accent-color: var(--accent);
      margin-top: 2px;
    }

    /* Navigation Buttons */
    .nav-buttons {
      display: flex;
      gap: 12px;
      margin-top: 32px;
      padding-bottom: env(safe-area-inset-bottom, 0px);
    }

    .btn {
      flex: 1;
      padding: 16px 24px;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      min-height: 56px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-primary {
      background: var(--grad-start);
      color: white;
      box-shadow: 0 4px 12px rgba(46, 106, 157, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(46, 106, 157, 0.4);
      background: #25547a;
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    /* Mobile Optimizations */
    @media (max-width: 480px) {
      .container {
        padding: 16px 12px;
      }

      .warning-banner h3 {
        font-size: 1.25rem;
      }

      .page-header h2 {
        font-size: 1.25rem;
      }
    }

    /* Touch Feedback */
    @media (hover: none) {
      .btn:active {
        opacity: 0.8;
      }
    }
  </style>
</head>
<body>
  <!-- Sticky Banner -->
  <div class="banner">
    <div class="brand">
      <img src="/images/logo.png" alt="Logo" class="logo">
      <h1>Car Crash Lawyer AI</h1>
      <p class="tagline">Legal Incident Report</p>
    </div>
    <div class="progress-container">
      <div class="progress-bar"></div>
    </div>
    <div class="progress-label">Page 1 of 12</div>
  </div>

  <!-- Main Content -->
  <div class="container">
    <div class="page-header">
      <h2>‚öñÔ∏è Legal Advisory</h2>
      <p>Please read carefully before proceeding</p>
    </div>

    <!-- Critical Warning -->
    <div class="warning-banner">
      <h3>
        <span class="icon">üö®</span>
        DO NOT ADMIT LIABILITY
      </h3>
      <p style="font-size: 1rem; margin-bottom: 16px;">
        <strong>This is the most important rule at any accident scene.</strong>
      </p>
      <ul>
        <li>Admitting fault can invalidate your insurance claim</li>
        <li>It can be used against you in legal proceedings</li>
        <li>The full circumstances may not be clear at the scene</li>
        <li>Other factors (road conditions, witnesses) may affect liability</li>
      </ul>
    </div>

    <!-- What NOT to Say -->
    <div class="advisory-section">
      <h4>‚ùå What NOT to Say</h4>
      <ul class="dont-say">
        <li>"It was my fault"</li>
        <li>"I'm sorry, I didn't see you"</li>
        <li>"I wasn't paying attention"</li>
        <li>"I was going too fast"</li>
        <li>"Don't worry, my insurance will cover it"</li>
      </ul>
    </div>

    <!-- What TO DO -->
    <div class="advisory-section">
      <h4>‚úÖ What TO DO at the Scene</h4>
      <ul>
        <li>Check everyone is safe and call 999 if needed</li>
        <li>Exchange insurance details with other driver(s)</li>
        <li>Take photos of all vehicles and the scene</li>
        <li>Note down witness details if possible</li>
        <li>Report the incident to your insurance company</li>
        <li>Complete this incident report as soon as possible</li>
      </ul>
    </div>

    <!-- What TO SAY -->
    <div class="advisory-section">
      <h4>üí¨ What TO SAY If Asked</h4>
      <ul>
        <li>"I need to report this to my insurance company first"</li>
        <li>"Let's exchange our insurance details"</li>
        <li>"I'd like to take some photos for my records"</li>
        <li>"Are you okay? Do you need medical attention?"</li>
      </ul>
    </div>

    <!-- Why It Matters -->
    <div class="advisory-section">
      <h4>‚öñÔ∏è Why This Matters</h4>
      <p style="font-size: 0.938rem; line-height: 1.6; color: var(--text-dark);">
        UK insurance law means that anything you say at the scene can affect your claim.
        Even an apology ("I'm sorry") can be interpreted as accepting fault. Let your
        insurance company and their legal team assess liability based on all the facts,
        not just what was said in a stressful moment.
      </p>
    </div>

    <!-- Acknowledgment -->
    <div class="acknowledgment">
      <label for="legalAck">
        <input type="checkbox" id="legalAck" required>
        <span>
          I understand that I must not admit liability at the scene or in this report.
          I will only state the facts as I remember them.
        </span>
      </label>
    </div>

    <!-- Navigation -->
    <div class="nav-buttons">
      <button type="button" class="btn btn-primary" id="nextBtn" disabled>
        I Understand ‚Äî Continue to Report ‚Üí
      </button>
    </div>
  </div>

  <script>
    // Elements
    const legalAck = document.getElementById('legalAck');
    const nextBtn = document.getElementById('nextBtn');

    // Enable next button when acknowledged
    legalAck.addEventListener('change', function() {
      nextBtn.disabled = !this.checked;
    });

    // Save and proceed
    nextBtn.addEventListener('click', function() {
      if (!legalAck.checked) {
        alert('Please acknowledge that you understand the legal advisory before proceeding.');
        return;
      }

      // Save acknowledgment to session storage
      const pageData = {
        legal_acknowledgment: true,
        acknowledged_at: new Date().toISOString()
      };

      sessionStorage.setItem('incident_page1', JSON.stringify(pageData));

      console.log('‚úÖ Page 1 saved:', pageData);

      // Navigate to page 2
      window.location.href = '/incident-form-page2.html';
    });

    // Restore saved data if returning to this page
    window.addEventListener('DOMContentLoaded', function() {
      const saved = sessionStorage.getItem('incident_page1');
      if (saved) {
        try {
          const data = JSON.parse(saved);
          if (data.legal_acknowledgment) {
            legalAck.checked = true;
            nextBtn.disabled = false;
          }
        } catch (e) {
          console.error('Error restoring page 1 data:', e);
        }
      }
    });

    console.log('üìã Incident Form - Page 1: Legal Advisory loaded');
  </script>
</body>
</html>
